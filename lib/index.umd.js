var __vite_style__=document.createElement("style");__vite_style__.innerHTML=`.row-wrap[data-v-76cccc64]{display:grid;width:100%;grid-template-columns:repeat(var(--bb9dd6f0),calc(var(--b7acebc2) * 1px));grid-auto-rows:calc(var(--718e8024) * 1px);column-gap:calc(var(--1e8e4fed) * 1px);row-gap:calc(var(--fdcba522) * 1px);overflow:hidden}.col-item[data-v-22239aa7]{box-sizing:border-box;border:1px solid #999;background-color:#fff;overflow:hidden;font-size:28px;font-weight:900;color:#666;text-align:center;grid-column:span var(--9c665e96);grid-row:span var(--0a17a76f);order:var(--262df066);resize:none!important}.on-drag[data-v-22239aa7]{opacity:.2}.can-edit[data-v-22239aa7]{resize:both!important}.can-drag[data-v-22239aa7]{cursor:move}
(function(e,f){typeof exports=="object"&&typeof module!="undefined"?module.exports=f(require("vue")):typeof define=="function"&&define.amd?define(["vue"],f):(e=typeof globalThis!="undefined"?globalThis:e||self,e.JdRow=f(e.Vue))})(this,function(e){"use strict";`;document.head.appendChild(__vite_style__);var f="",h=(o,t)=>{const a=o.__vccOpts||o;for(const[d,s]of t)a[d]=s;return a},x=h({__name:"row",props:{rowWidth:Number,rowHeight:Number,rowSize:{type:Number,default:24},rowGap:{type:Number,default:0},columnGap:{type:Number,default:0}},setup(o){const t=o;e.useCssVars(r=>({bb9dd6f0:o.rowSize,b7acebc2:d.value,"718e8024":s.value,"1e8e4fed":o.columnGap,fdcba522:o.rowGap}));const a=e.ref(null),d=e.ref(0),s=e.ref(0);let p;const w=(r,n,i)=>{clearTimeout(p),p=setTimeout(()=>{r.style.width=`${n*d.value+(n-1)*t.columnGap}px`,r.style.height=`${i*s.value+(i-1)*t.rowGap}px`},300)},m=new ResizeObserver(r=>{window.requestAnimationFrame(()=>{r.forEach(({contentRect:n,target:i})=>{let g=Math.ceil(n.width/(d.value+t.columnGap)),b=Math.ceil(n.height/(s.value+t.rowGap));g>t.rowSize&&(g=t.rowSize),i.style.gridColumn=`span ${g}`,i.style.gridRow=`span ${b}`,w(i,g,b)})})}),c=e.reactive([]),u=(r,n)=>{c[n]=r,m.observe(r,{box:"border-box"})},l=r=>c.indexOf(r);let v,_;const O=()=>{const r=c.indexOf(v),n=c.indexOf(_);if(r>-1&&n>-1){const i=c.splice(r,1)[0];c.splice(n,0,i)}},S=r=>{v=r},C=r=>{_=r};return e.provide("register",u),e.provide("getOrder",l),e.provide("setOrder",O),e.provide("setDragNode",S),e.provide("setDropNode",C),e.onMounted(()=>{const{width:r,height:n}=a.value.getBoundingClientRect();typeof t.rowWidth=="number"?d.value=t.rowWidth:d.value=(r-(t.rowSize-1)*t.columnGap)/t.rowSize,typeof t.rowHeight=="number"?s.value=t.rowHeight:s.value=n}),e.onUnmounted(()=>{m.disconnect()}),(r,n)=>(e.openBlock(),e.createElementBlock("section",{class:"row-wrap",ref_key:"rows",ref:a},[e.renderSlot(r.$slots,"default",{},void 0,!0)],512))}},[["__scopeId","data-v-76cccc64"]]),G="";const y=["draggable"];var N=h({__name:"col",props:{rowSpan:{type:Number,default:1},columnSpan:{type:Number,default:1},drag:Boolean,resize:Boolean},setup(o){const t=o;e.useCssVars(l=>({"9c665e96":o.columnSpan,"0a17a76f":o.rowSpan,"262df066":e.unref(c)}));const a=e.ref(null),d=e.inject("register",()=>{}),s=e.inject("getOrder",()=>{}),p=e.inject("setOrder",()=>{}),w=e.inject("setDragNode",()=>{}),m=e.inject("setDropNode",()=>{}),c=e.computed(()=>s(a.value)),u=e.ref(!1);return e.onMounted(()=>{const l=Array.from(a.value.parentNode.children).indexOf(a.value);d(a.value,l),a.value.addEventListener("dragstart",()=>{if(!t.drag)return!1;w(a.value),u.value=!0}),a.value.addEventListener("dragend",()=>{if(!t.drag)return!1;u.value=!1}),a.value.addEventListener("dragover",()=>{if(!t.drag)return!1;p()}),a.value.addEventListener("dragenter",()=>{if(!t.drag)return!1;m(a.value)})}),(l,v)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["col-item",{"on-drag":u.value,"can-edit":o.resize,"can-drag":o.drag}]),draggable:o.drag,ref_key:"colItem",ref:a},[e.renderSlot(l.$slots,"default",{},void 0,!0)],10,y))}},[["__scopeId","data-v-22239aa7"]]);function z(o){o.component("jdRow",x),o.component("jdCol",N)}return z});
