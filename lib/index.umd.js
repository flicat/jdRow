var __vite_style__=document.createElement("style");__vite_style__.innerHTML=`.row-wrap[data-v-a8ab057c]{display:grid;width:100%;grid-template-columns:repeat(var(--570e1ffc),calc(var(--ea2425aa) * 1px));grid-auto-rows:calc(var(--8dfe833c) * 1px);column-gap:calc(var(--10564e61) * 1px);row-gap:calc(var(--d118390a) * 1px);overflow:hidden}.col-item[data-v-22239aa7]{box-sizing:border-box;border:1px solid #999;background-color:#fff;overflow:hidden;font-size:28px;font-weight:900;color:#666;text-align:center;grid-column:span var(--9c665e96);grid-row:span var(--0a17a76f);order:var(--262df066);resize:none!important}.on-drag[data-v-22239aa7]{opacity:.2}.can-edit[data-v-22239aa7]{resize:both!important}.can-drag[data-v-22239aa7]{cursor:move}
(function(e,m){typeof exports=="object"&&typeof module!="undefined"?module.exports=m(require("vue")):typeof define=="function"&&define.amd?define(["vue"],m):(e=typeof globalThis!="undefined"?globalThis:e||self,e.JdRow=m(e.Vue))})(this,function(e){"use strict";`;document.head.appendChild(__vite_style__);var m="",_=(n,t)=>{const o=n.__vccOpts||n;for(const[s,c]of t)o[s]=c;return o},O=_({__name:"row",props:{rowWidth:Number,rowHeight:Number,rowSize:{type:Number,default:24},rowGap:{type:Number,default:0},columnGap:{type:Number,default:0}},setup(n){const t=n;e.useCssVars(r=>({"570e1ffc":n.rowSize,ea2425aa:e.unref(f),"8dfe833c":e.unref(g),"10564e61":n.columnGap,d118390a:n.rowGap}));const o=e.ref(null),s=e.ref(0),c=e.ref(0),w=({width:r,height:a},d)=>{const{"padding-left":u,"padding-right":v,"border-left-width":G,"border-right-width":j,"padding-top":k,"padding-bottom":H,"border-top-width":R,"border-bottom-width":T}=window.getComputedStyle(d);s.value=r-parseInt(u)-parseInt(v)-parseInt(G)-parseInt(j),c.value=a-parseInt(k)-parseInt(H)-parseInt(R)-parseInt(T)},h=new ResizeObserver(r=>{window.requestAnimationFrame(()=>{r.forEach(({contentRect:a,target:d})=>{w(a,d)})})}),f=e.computed(()=>typeof t.rowWidth=="number"?t.rowWidth:(s.value-(t.rowSize-1)*t.columnGap)/t.rowSize),g=e.computed(()=>typeof t.rowHeight=="number"?t.rowHeight:c.value);let l;const i=(r,a,d)=>{clearTimeout(l),l=setTimeout(()=>{r.style.width=`${a*f.value+(a-1)*t.columnGap}px`,r.style.height=`${d*g.value+(d-1)*t.rowGap}px`},300)},b=new ResizeObserver(r=>{window.requestAnimationFrame(()=>{r.forEach(({contentRect:a,target:d})=>{let u=Math.ceil(a.width/(f.value+t.columnGap)),v=Math.ceil(a.height/(g.value+t.rowGap));u>t.rowSize&&(u=t.rowSize),d.style.gridColumn=`span ${u}`,d.style.gridRow=`span ${v}`,i(d,u,v)})})}),p=e.reactive([]),I=(r,a)=>{p[a]=r,b.observe(r,{box:"border-box"})},C=r=>p.indexOf(r);let x,y;const B=()=>{const r=p.indexOf(x),a=p.indexOf(y);if(r>-1&&a>-1){const d=p.splice(r,1)[0];p.splice(a,0,d)}},D=r=>{x=r},E=r=>{y=r};return e.provide("register",I),e.provide("getOrder",C),e.provide("setOrder",B),e.provide("setDragNode",D),e.provide("setDropNode",E),e.onMounted(()=>{h.observe(o.value),w(o.value.getBoundingClientRect(),o.value)}),e.onUnmounted(()=>{b.disconnect(),h.disconnect()}),(r,a)=>(e.openBlock(),e.createElementBlock("section",{class:"row-wrap",ref_key:"rows",ref:o},[e.renderSlot(r.$slots,"default",{},void 0,!0)],512))}},[["__scopeId","data-v-a8ab057c"]]),L="";const z=["draggable"];var N=_({__name:"col",props:{rowSpan:{type:Number,default:1},columnSpan:{type:Number,default:1},drag:Boolean,resize:Boolean},setup(n){const t=n;e.useCssVars(i=>({"9c665e96":n.columnSpan,"0a17a76f":n.rowSpan,"262df066":e.unref(g)}));const o=e.ref(null),s=e.inject("register",()=>{}),c=e.inject("getOrder",()=>{}),w=e.inject("setOrder",()=>{}),h=e.inject("setDragNode",()=>{}),f=e.inject("setDropNode",()=>{}),g=e.computed(()=>c(o.value)),l=e.ref(!1);return e.onMounted(()=>{const i=Array.from(o.value.parentNode.children).indexOf(o.value);s(o.value,i),o.value.addEventListener("dragstart",()=>{if(!t.drag)return!1;h(o.value),l.value=!0}),o.value.addEventListener("dragend",()=>{if(!t.drag)return!1;l.value=!1}),o.value.addEventListener("dragover",()=>{if(!t.drag)return!1;w()}),o.value.addEventListener("dragenter",()=>{if(!t.drag)return!1;f(o.value)})}),(i,b)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["col-item",{"on-drag":l.value,"can-edit":n.resize,"can-drag":n.drag}]),draggable:n.drag,ref_key:"colItem",ref:o},[e.renderSlot(i.$slots,"default",{},void 0,!0)],10,z))}},[["__scopeId","data-v-22239aa7"]]);function S(n){n.component("jdRow",O),n.component("jdCol",N)}return S});
