var __vite_style__=document.createElement("style");__vite_style__.innerHTML=`.row-wrap[data-v-a0efb388]{display:grid;width:100%;grid-template-columns:repeat(var(--6e7c6f84),calc(var(--61498ea3) * 1px));grid-auto-rows:calc(var(--a3cd682c) * 1px);column-gap:calc(var(--056edbe9) * 1px);row-gap:calc(var(--ae8cfa1a) * 1px);overflow:hidden}.col-item[data-v-7913f22d]{box-sizing:border-box;border:1px solid #999;background-color:#fff;overflow:hidden;font-size:28px;font-weight:900;color:#666;text-align:center;grid-column:var(--27193f55);grid-row:var(--29d8338a);order:var(--ae1072fa);resize:none!important}.on-drag[data-v-7913f22d]{opacity:.2}.can-edit[data-v-7913f22d]{resize:both!important}.can-drag[data-v-7913f22d]{cursor:move}
(function(e,m){typeof exports=="object"&&typeof module!="undefined"?module.exports=m(require("vue")):typeof define=="function"&&define.amd?define(["vue"],m):(e=typeof globalThis!="undefined"?globalThis:e||self,e.JdRow=m(e.Vue))})(this,function(e){"use strict";`;document.head.appendChild(__vite_style__);var m="",y=(n,t)=>{const o=n.__vccOpts||n;for(const[f,p]of t)o[f]=p;return o},N=y({__name:"row",props:{rowWidth:Number,rowHeight:Number,rowSize:{type:Number,default:24},rowGap:{type:Number,default:0},columnGap:{type:Number,default:0}},setup(n){const t=n;e.useCssVars(r=>({"6e7c6f84":n.rowSize,"61498ea3":e.unref(u),a3cd682c:e.unref(a),"056edbe9":n.columnGap,ae8cfa1a:n.rowGap}));const o=e.ref(null),f=e.ref(0),p=e.ref(0),i=e.reactive([]),w=()=>{const{width:r,height:d}=o.value.getBoundingClientRect(),{"padding-left":l,"padding-right":s,"border-left-width":g,"border-right-width":E,"padding-top":G,"padding-bottom":T,"border-top-width":j,"border-bottom-width":H}=window.getComputedStyle(o.value);f.value=r-parseInt(l)-parseInt(s)-parseInt(g)-parseInt(E),p.value=d-parseInt(G)-parseInt(T)-parseInt(j)-parseInt(H)},h=new ResizeObserver(()=>{window.requestAnimationFrame(w)}),u=e.computed(()=>typeof t.rowWidth=="number"?t.rowWidth:(f.value-(t.rowSize-1)*t.columnGap)/t.rowSize),a=e.computed(()=>typeof t.rowHeight=="number"?t.rowHeight:p.value),v=(r,d,l)=>{const s=i.find(g=>g.el===r);s&&(s.gridColumn=d,s.gridRow=l)},b=new ResizeObserver(r=>{window.requestAnimationFrame(()=>{r.forEach(({contentRect:d,target:l})=>{let s=Math.ceil(d.width/(u.value+t.columnGap)),g=Math.ceil(d.height/(a.value+t.rowGap));s>t.rowSize&&(s=t.rowSize),v(l,s,g)})})});let _;const c=new MutationObserver(r=>{clearTimeout(_),_=setTimeout(()=>{r.forEach(({target:d})=>{d.style.width="",d.style.height=""})},300)}),x=(r,d)=>{i[d]=r,b.observe(r.el,{box:"border-box"}),c.observe(r.el,{attributeFilter:["style"]})},R=r=>i.indexOf(r);let O,z;const k=()=>{const r=i.indexOf(O),d=i.indexOf(z);if(r>-1&&d>-1){const l=i.splice(r,1)[0];i.splice(d,0,l)}},B=r=>{O=r},D=r=>{z=r};return e.provide("register",x),e.provide("getOrder",R),e.provide("setOrder",k),e.provide("setDragNode",B),e.provide("setDropNode",D),e.onMounted(()=>{e.nextTick(()=>{w(),h.observe(o.value)})}),e.onUnmounted(()=>{b.disconnect(),c.disconnect(),h.disconnect()}),(r,d)=>(e.openBlock(),e.createElementBlock("section",{class:"row-wrap",ref_key:"rows",ref:o},[e.renderSlot(r.$slots,"default",{},void 0,!0)],512))}},[["__scopeId","data-v-a0efb388"]]),M="";const C=["draggable"];var S=y({__name:"col",props:{rowSpan:{type:Number,default:1},columnSpan:{type:Number,default:1},drag:Boolean,resize:Boolean},setup(n){const t=n;e.useCssVars(c=>({"27193f55":e.unref(b),"29d8338a":e.unref(_),ae1072fa:e.unref(v)}));const o=e.ref(null),f=e.inject("register",()=>{}),p=e.inject("getOrder",()=>{}),i=e.inject("setOrder",()=>{}),w=e.inject("setDragNode",()=>{}),h=e.inject("setDropNode",()=>{}),u=e.ref(!1),a=e.reactive({el:null,gridColumn:t.columnSpan,gridRow:t.rowSpan}),v=e.computed(()=>p(a)),b=e.computed(()=>`span ${a.gridColumn}`),_=e.computed(()=>`span ${a.gridRow}`);return e.onMounted(()=>{const c=Array.from(o.value.parentNode.children).indexOf(o.value);a.el=o.value,f(a,c),o.value.addEventListener("dragstart",()=>{if(!t.drag)return!1;w(a),u.value=!0}),o.value.addEventListener("dragend",()=>{if(!t.drag)return!1;u.value=!1}),o.value.addEventListener("dragover",()=>{if(!t.drag)return!1;i()}),o.value.addEventListener("dragenter",()=>{if(!t.drag)return!1;h(a)})}),(c,x)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["col-item",{"on-drag":u.value,"can-edit":n.resize,"can-drag":n.drag}]),draggable:n.drag,ref_key:"colItem",ref:o},[e.renderSlot(c.$slots,"default",{},void 0,!0)],10,C))}},[["__scopeId","data-v-7913f22d"]]);function I(n){n.component("jdRow",N),n.component("jdCol",S)}return I});
